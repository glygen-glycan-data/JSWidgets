
<!doctype html>
<html>
<head>
    <title>Spectrum Viewer</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="spectrum-viewer.css" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" charset="utf-8"></script>
    <script src="https://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
    <script src="MSV.js"></script>
    <script src="spectrum-parsers.js"></script>
    <script src="util.js"></script>
</head>
<body>
<h1>Click on the title to collapse or extend the mass spectra.</h1>
<div class="specpanel1"></div>
<script type="text/javascript">
    var params=URI2Params(window.location);
    // console.log(params);
    params = {
        spectra: "test_data/MS_24_UO1_HCD20_5X25_EThcd_nondplserum_neutry3.mgf",
        scan: "117,118,314,317,327",
        format: "json",
        annotations: "test_data/PE000021.4.JSON"
    };
    var prefix = "test_data/MS_24_UO1_HCD20_5X25_EThcd_nondplserum_neutry3";
    var scanNums = params["scan"].split(",");
    params["width"] = params["width"] || document.body.clientWidth;
    if ("spectra" in params) {
        var scans = params["scan"].split(",");
        var scans = [12861, 12864, 13060, 13063];
        for (var i=0, len=scans.length; i < len; i++) {
            var sc = scans[i];
            params["scan"] = sc;
            // console.log(params);
            params["spectra"] = prefix + "/" +sc + ".json";
            console.log(params);
            msmsv.showUnlabelledSpectrum('specpanel1','spec'+sc,params);
        }
    }


    var titles = [];
    for (var i in scans){
        var titleCont = "Mass Spectra for Scan Number: "+scans[i];
        titles.push(titleCont);
    }

    msmsv.addTitles('specpanel1', titles, 4);


</script>
</body>
</html>